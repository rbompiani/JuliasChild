

<!--Jumbotron w/ title-->
<div class="container-fluid">
    <h1 class="display-4" id="yourRecipeBox">Your Recipe Box</h1>
</div>


{{!-- searches --}}
<div class="container">
    <div class="search-box" id="searchContainer">
        <!--<form action="/api/recipes/" method="get">-->
            <input class="form-validate create-text" type="text" id="apiSearch" name="searchTerm" placeholder="Find new Recipes!">
            <button type="submit" class="btn btn-primary btn-md" id="search-btn">
                <span class="fa fa-search"></span> 
            </button> 
        <!--</form>-->
                   


    {{!-- create- box --}}
        <input class="create-text" type="text" name="" placeholder="Create your own!">
        <a class="create-btn" href='/addrecipe'>
            <i class="far fa-plus-square"></i>
        </a>
    </div> --}}
</div>
<br></br>

<!-- CARD -->
{{#each data as |item i|}}
<div class="container" id="cardIDtoMatch">
    <div class="col-sm recipeCard" id="{{i}}" data-toggle="modal" data-target="#recipeModal{{i}}">
        <div class="card" id="recipeCards" style="width: 12rem;">
            <img src={{recipeImage}} class="card-img-top" alt="...">
            <div class="card-body">
                <h5 class="card-title">{{recipeTitle}}</h5>
                <p class="card-text">{{recipeDesc}}</p>
            </div>
            <ul class="list-group list-group-flush">
                <li class="list-group-item">{{calories}}</li>
                <li class="list-group-item">{{nutrition}}</li>
            </ul>
            <div class="card-body">
                <img id="heartImage" src="/images/heart.png">
            </div>
        </div>
    </div>
</div>



<!-- create modals for each recipe -->
<div id="recipeModal{{i}}" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel"
    aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content container">
            <div class="row">

                <!-- Left column of modal -->
                <div class="col-md-6 p-0">
                    <img src="{{recipeImage}}" class="modalImg">
                    <div class="m-4">
                        <h2>{{recipeTitle}}</h2>
                        <h5>Ingredients</h5>
                        <ul class="ingredientsList">
                            {{#each ingredientLines}}
                            <li>{{this}}</li>
                            {{/each}}
                        </ul>
                    </div>
                </div>

                <!-- Right column of modal -->
                <div class="col-md-6 p-0">
                    <div class="m-4">
                        <h5>Directions</h5>
                        <ol class="directions">
                            {{#each instructions}}
                            <li>{{this}}</li>
                            {{/each}}
                        </ol>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

{{/each}}
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="/js/index.js"></script>

<script type="text/javascript">
    $(document).ready(function(){
        $("#search-btn").on("click", function() {

            var searchTerm = $("#apiSearch").val().trim();
            var newRoute = "/api/recipes/"+searchTerm;
            console.log("routing to...",newRoute);

            window.location.replace(newRoute);
        });

    })

</script>
